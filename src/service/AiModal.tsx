import { GoogleGenerativeAI } from "@google/generative-ai";

const apiKey = import.meta.env.VITE_GOOGLE_GEMINI_AI_API_KEY;
const genAI = new GoogleGenerativeAI(apiKey);

const model = genAI.getGenerativeModel({
  model: "gemini-1.5-flash",
});

const generationConfig = {
  temperature: 1,
  topP: 0.95,
  topK: 64,
  maxOutputTokens: 8192,
  responseMimeType: "application/json",
};

export const chatSession = model.startChat({
  generationConfig,
  history: [
    {
      role: "user",
      parts: [
        {
          text: "Generate Travel Plan for Location : Las Vegas, for 3 Days for Couple with a Cheap budget , Give me a Hotels options list with HotelName , Hotel address, price ,geo Coordinates, rating , descriptions and suggest itinerary with placeName , Place Details , Place Image Url , Geo Coordinates , ticket Pricing ,Time travel each of the location for 3 days with each day plan with best time to visit in JSON format.",
        },
      ],
    },
    {
      role: "model",
      parts: [
        {
          text: '```json\n{\n  "hotelOptions": [\n    {\n      "hotelName": "The D Las Vegas",\n      "hotelAddress": "301 Fremont Street, Las Vegas, NV 89101",\n      "price": "$50-$100 per night",\n      "geoCoordinates": "36.1699° N, 115.1421° W",\n      "rating": "4 stars",\n      "description": "A downtown hotel with a retro vibe, offering affordable rooms, a casino, and a rooftop pool."\n    },\n    {\n      "hotelName": "The Golden Nugget",\n      "hotelAddress": "129 E Fremont Street, Las Vegas, NV 89101",\n      "price": "$75-$150 per night",\n      "geoCoordinates": "36.1684° N, 115.1429° W",\n      "rating": "4 stars",\n      "description": "A historic hotel known for its elaborate atrium, shark tank, and multiple dining options."\n    },\n    {\n      "hotelName": "Circus Circus Hotel & Casino",\n      "hotelAddress": "2880 Las Vegas Blvd S, Las Vegas, NV 89109",\n      "price": "$40-$80 per night",\n      "geoCoordinates": "36.1208° N, 115.1677° W",\n      "rating": "3 stars",\n      "description": "A family-friendly hotel with a circus theme, offering affordable rooms, a carnival midway, and a large casino."\n    },\n    {\n      "hotelName": "The Strat Hotel, Casino & SkyPod",\n      "hotelAddress": "2000 S Las Vegas Blvd, Las Vegas, NV 89104",\n      "price": "$60-$120 per night",\n      "geoCoordinates": "36.1134° N, 115.1657° W",\n      "rating": "4 stars",\n      "description": "A hotel with a tower offering observation decks, a thrilling ride, and dining options with stunning views."\n    }\n  ],\n  "itinerary": {\n    "day1": {\n      "morning": {\n        "placeName": "Fremont Street Experience",\n        "placeDetails": "A pedestrian mall featuring a canopy of LED lights, live music, and street performers.",\n        "placeImageUrl": "https://www.visitlasvegas.com/sites/default/files/styles/article_image/public/2023-04/fremont-street-experience.jpg?itok=7Y-vG-10",\n        "geoCoordinates": "36.1698° N, 115.1437° W",\n        "ticketPricing": "Free",\n        "time": "9:00 AM - 12:00 PM"\n      },\n      "afternoon": {\n        "placeName": "Neon Museum",\n        "placeDetails": "A museum showcasing historic Las Vegas neon signs.",\n        "placeImageUrl": "https://www.visitlasvegas.com/sites/default/files/styles/article_image/public/2023-04/neon-museum-las-vegas.jpg?itok=Qm57o39o",\n        "geoCoordinates": "36.1683° N, 115.1371° W",\n        "ticketPricing": "$20 per person",\n        "time": "1:00 PM - 4:00 PM"\n      },\n      "evening": {\n        "placeName": "Golden Nugget Casino",\n        "placeDetails": "A historic casino with a shark tank and a vibrant atmosphere.",\n        "placeImageUrl": "https://www.visitlasvegas.com/sites/default/files/styles/article_image/public/2023-04/golden-nugget.jpg?itok=x_88b_6m",\n        "geoCoordinates": "36.1684° N, 115.1429° W",\n        "ticketPricing": "Free (for gambling)",\n        "time": "5:00 PM - 8:00 PM"\n      }\n    },\n    "day2": {\n      "morning": {\n        "placeName": "Hoover Dam",\n        "placeDetails": "A historic dam on the Colorado River, offering tours and breathtaking views.",\n        "placeImageUrl": "https://www.visitlasvegas.com/sites/default/files/styles/article_image/public/2023-04/hoover-dam-las-vegas.jpg?itok=hYv7eK76",\n        "geoCoordinates": "36.0038° N, 114.9956° W",\n        "ticketPricing": "$30 per person (for dam tours)",\n        "time": "9:00 AM - 12:00 PM"\n      },\n      "afternoon": {\n        "placeName": "Red Rock Canyon National Conservation Area",\n        "placeDetails": "A scenic canyon with hiking trails, rock formations, and stunning views.",\n        "placeImageUrl": "https://www.visitlasvegas.com/sites/default/files/styles/article_image/public/2023-04/red-rock-canyon-national-conservation-area.jpg?itok=5h4F2K4i",\n        "geoCoordinates": "36.1094° N, 115.3419° W",\n        "ticketPricing": "$15 per vehicle",\n        "time": "1:00 PM - 4:00 PM"\n      },\n      "evening": {\n        "placeName": "The LINQ Promenade",\n        "placeDetails": "An outdoor shopping and entertainment district with restaurants, bars, and attractions.",\n        "placeImageUrl": "https://www.visitlasvegas.com/sites/default/files/styles/article_image/public/2023-04/the-linq-promenade.jpg?itok=r_L1p_J9",\n        "geoCoordinates": "36.1204° N, 115.1709° W",\n        "ticketPricing": "Free",\n        "time": "5:00 PM - 8:00 PM"\n      }\n    },\n    "day3": {\n      "morning": {\n        "placeName": "Bellagio Conservatory & Botanical Garden",\n        "placeDetails": "A free botanical garden with stunning floral displays and interactive exhibits.",\n        "placeImageUrl": "https://www.visitlasvegas.com/sites/default/files/styles/article_image/public/2023-04/bellagio-conservatory-and-botanical-garden.jpg?itok=v3j2V56d",\n        "geoCoordinates": "36.1134° N, 115.1739° W",\n        "ticketPricing": "Free",\n        "time": "9:00 AM - 12:00 PM"\n      },\n      "afternoon": {\n        "placeName": "The Venetian and The Palazzo",\n        "placeDetails": "A luxury resort complex with a replica of Venice, including canals, gondolas, and shops.",\n        "placeImageUrl": "https://www.visitlasvegas.com/sites/default/files/styles/article_image/public/2023-04/the-venetian-and-the-palazzo.jpg?itok=aH4a7v7H",\n        "geoCoordinates": "36.1247° N, 115.1726° W",\n        "ticketPricing": "Free (for exploring the complex)",\n        "time": "1:00 PM - 4:00 PM"\n      },\n      "evening": {\n        "placeName": "Free Show on the Strip",\n        "placeDetails": "Enjoy a free show on the Las Vegas Strip, such as the Bellagio Fountains or the Mirage Volcano.",\n        "placeImageUrl": "https://www.visitlasvegas.com/sites/default/files/styles/article_image/public/2023-04/bellagio-fountains.jpg?itok=o9wB1e2j",\n        "geoCoordinates": "36.1134° N, 115.1739° W",\n        "ticketPricing": "Free",\n        "time": "5:00 PM - 8:00 PM"\n      }\n    }\n  }\n}\n```\n\n**Explanation of the JSON Structure:**\n\n* **hotelOptions:** This array contains information about different hotel options with affordable rates in Las Vegas. Each hotel object includes:\n    * **hotelName:** The name of the hotel.\n    * **hotelAddress:** The address of the hotel.\n    * **price:** An estimated price range for a night\'s stay.\n    * **geoCoordinates:** The latitude and longitude coordinates of the hotel.\n    * **rating:** A star rating for the hotel.\n    * **description:** A brief description of the hotel and its amenities.\n\n* **itinerary:** This object contains the suggested itinerary for the 3 days. \n    * **day1, day2, day3:** Each day is broken down into morning, afternoon, and evening activities. \n    * Each activity object includes:\n        * **placeName:** The name of the place to visit.\n        * **placeDetails:** A brief description of the place.\n        * **placeImageUrl:** A URL of an image representing the place.\n        * **geoCoordinates:** The latitude and longitude coordinates of the place.\n        * **ticketPricing:** The cost of entry or tickets (if any).\n        * **time:** The recommended time to visit the place.\n\n**Additional Considerations:**\n\n* This itinerary is just a suggestion, and you can customize it based on your interests.\n* Consider using public transportation to get around Las Vegas, as it is more affordable than taxis.\n* Book your accommodations and attractions in advance to get the best deals.\n* Be aware of peak tourist season and adjust your itinerary accordingly.\n* Consider using a Las Vegas discount card for further savings on attractions and dining.\n* Make sure to drink plenty of water, especially during the summer months, as it can get very hot in Las Vegas.',
        },
      ],
    },
  ],
});
